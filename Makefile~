
EXECUTABLES = omp_bug2 omp_bug3 omp_bug4 omp_bug5 omp_bug6 
COMPILER = gcc
FLAGS = -fopenmp

all: $(EXECUTABLES)


omp_bug2: omp_bug2.c
	gcc -fopenmp omp_bug2.c -o omp_bug2

bug2: omp_bug2
	./omp_bug2

omp_bug3: omp_bug3.c
	gcc -fopenmp omp_bug3.c -o omp_bug3

bug3: omp_bug3
	./omp_bug3


mpi_bug4: mpi_bug4.c
	$(COMPILER) $(FLAGS) mpi_bug4.c -o mpi_bug4

bug4: mpi_bug4
	mpirun -np 4 ./mpi_bug4

mpi_bug5: mpi_bug5.c
	$(COMPILER) $(FLAGS) mpi_bug5.c -o mpi_bug5

bug5: mpi_bug5
	mpirun -np 4 ./mpi_bug5

mpi_bug6: mpi_bug6.c
	$(COMPILER) $(FLAGS) mpi_bug6.c -o mpi_bug6

bug6: mpi_bug6
	mpirun -np 4 ./mpi_bug6

mpi_bug7: mpi_bug7.c
	$(COMPILER) $(FLAGS) mpi_bug7.c -o mpi_bug7

bug7: mpi_bug7
	mpirun -np 4 ./mpi_bug7

ssort: ssort.c
	$(COMPILER) $(FLAGS) ssort.c -o ssort

sort_all: ssort
	mpirun -np 4 ./ssort

clean:
	rm -rf $(EXECUTABLES)
